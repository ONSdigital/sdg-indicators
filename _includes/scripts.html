<script src="//code.jquery.com/jquery-1.12.4.min.js" integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ=" crossorigin="anonymous"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/tether/1.4.0/js/tether.min.js"></script>
<script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
<script src="//cdn.datatables.net/1.10.16/js/jquery.dataTables.min.js"></script>
<script src="//cdn.datatables.net/1.10.16/js/dataTables.bootstrap.min.js"></script>
<script src="//cdn.datatables.net/fixedcolumns/3.2.3/js/dataTables.fixedColumns.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore-min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.0/Chart.bundle.min.js"></script>
<script type="text/javascript"> window.loop11_key = "0104054b3b56d396b42e668dfe096cee161454a8"; </script>
<script src="//cdn.loop11.com/my/loop11.js" type="text/javascript" async="async"></script>
<script src='{{ site.baseurl }}/assets/js/sdg.js?v={{ cache_bust }}'></script>
<script src="{{ site.baseurl }}/assets/js/lib/classList.js"></script>
<script src="{{ site.baseurl }}/assets/js/lib/modernizr-custom.js"></script>
<script src="//cdn.jsdelivr.net/bluebird/3.5.0/bluebird.min.js"></script>
<script>
$(function() {
    $('#metadata .collapsible h3').click(function() {
      var $container = $(this).closest('div'),
          $article = $(this).next('article'),
          $span = $(this).find('span');

      $article.slideToggle(function() {
        if($container.hasClass('expanded')) {
          $container.removeClass('expanded');
          $container.addClass('collapsed');
          $span.html(' (Expand)');
        } else {
          $container.removeClass('collapsed');
          $container.addClass('expanded');
          $span.html(' (Collapse)');
        }
      });
    });

    $('#metadata .collapsible h3').keypress(function (e) {
     if ( e.which == 13 ) { // Enter key (13) pressed
          $(this).trigger('click');
       }
    });

    if($('#indicatorData').length) {
      var domData = $('#indicatorData').data();

      var model = new indicatorModel({
        data: domData.indicatordata,
        country: domData.country,
        indicatorId: domData.indicatorid,
        chartTitle: domData.charttitle,
        edgesData: domData.edgesdata,
        measurementUnit: domData.measurementunit,
        dataSource: domData.datasource,
        geographicalArea: domData.geographicalarea,
        showData: domData.showdata,
        footnote: domData.footnote,
        graphType: domData.graphtype
      }),
      view  = new indicatorView(model, {
        rootElement: '#indicatorData',
        maxChartHeight: 600
      }),
      controller = new indicatorController(model, view);
      controller.initialise();
    }

    var switcher = new accessibilitySwitcher();


});
</script>
